{"changed":true,"filter":false,"title":"index.js","tooltip":"/index.js","value":"var express = require('express');\nvar app = express();\nvar bodyParser = require('body-parser');\nvar { admin , db } =require('./connectFirebase');\nvar newToken = require('./refreshToken');\nvar createContactZoho = require('./createUser.js');\n\nvar accessToken = { access_token: '', expiration_date: ''};\n\nrequire('dotenv').config();\n\n// parse application/x-www-form-urlencoded\napp.use(bodyParser.urlencoded({ extended: false }))\n\n// parse application/json\napp.use(bodyParser.json())\n\n// Refreshing Token\nvar UpdateAuthToken = function (req, res, next) {\n\n  var dt = new Date();\n  if (accessToken.access_token== '' || accessToken.expiration_date < dt.getTime()) {\n    var promise = new Promise(function(resolve, reject) {\n      resolve(newToken());\n    });\n    \n    promise.then(function(newToken) {\n      var dt = new Date();\n      \n      dt.setSeconds( dt.getSeconds() + newToken.expires_in_sec - 10 )\n              \n      accessToken = { access_token: newToken.access_token, expiration_date: dt.getTime() };\n              \n      next();\n    }).catch(function(error) {\n      console.log(error);\n    });\n  } else {next()};\n}\n\n// Initial Root\napp.get('/', UpdateAuthToken, function(req, res) {\n  \n  console.log(accessToken);\n  res.send('Working...');\n  \n});\n\n// Create a new user\napp.post('/createUser', UpdateAuthToken, function(req, res) {\n  \n  var idToken = req.body.idToken;\n  var UserDetail = {\n    email: req.body.email,\n    lastName : req.body.name, \n    firstName : req.body.firstname,\n    phone : req.body.phone,\n    description : req.body.company,\n    independant : req.body.independant,\n    company : req.body.company,\n    organization : req.body.organization,\n    supervisor: false,\n    validated: false\n    };\n\n  admin.auth().verifyIdToken(idToken)\n    .then(function(decodedToken) {\n    var uid = decodedToken.uid;\n    \n    // Create contact in Zoho\n    var result_zoho = createContactZoho(UserDetail, accessToken.access_token, uid);\n    \n    }).catch(function(error) {\n      // Handle error\n      console.log(error);\n    });\n\n  res.end('doc inserted');\n  \n});\n\n// Redirect URI\napp.get('/oauth2callback', function(req, res) {\n  \n  console.log(req.query);\n  \n  res.send('OK bobby');\n  \n});\n\n// manage connection \napp.post('/checkauth', function(req, res) {\n\n  var idToken = req.body.idToken;\n\n  console.log('Id Token envoyé :' + idToken);\n  res.send('Id Token envoyé :' + idToken);\n\n  admin.auth().verifyIdToken(idToken)\n  .then(function(decodedToken) {\n    var uid = decodedToken.uid;\n    \n    console.log(uid);\n\n  }).catch(function(error) {\n    // Handle error\n  });\n\n});\n\n// Run server\napp.listen(process.env.PORT);\nconsole.log(process.env.PORT + ' Running');","undoManager":{"mark":98,"position":100,"stack":[[{"start":{"row":64,"column":28},"end":{"row":64,"column":29},"action":"remove","lines":["o"],"id":687},{"start":{"row":64,"column":27},"end":{"row":64,"column":28},"action":"remove","lines":["h"]},{"start":{"row":64,"column":26},"end":{"row":64,"column":27},"action":"remove","lines":["O"]}],[{"start":{"row":64,"column":26},"end":{"row":64,"column":27},"action":"insert","lines":["o"],"id":688},{"start":{"row":64,"column":27},"end":{"row":64,"column":28},"action":"insert","lines":["h"]},{"start":{"row":64,"column":28},"end":{"row":64,"column":29},"action":"insert","lines":["o"]}],[{"start":{"row":65,"column":4},"end":{"row":65,"column":5},"action":"insert","lines":["r"],"id":689},{"start":{"row":65,"column":5},"end":{"row":65,"column":6},"action":"insert","lines":["e"]},{"start":{"row":65,"column":6},"end":{"row":65,"column":7},"action":"insert","lines":["s"]},{"start":{"row":65,"column":7},"end":{"row":65,"column":8},"action":"insert","lines":["u"]},{"start":{"row":65,"column":8},"end":{"row":65,"column":9},"action":"insert","lines":["l"]},{"start":{"row":65,"column":9},"end":{"row":65,"column":10},"action":"insert","lines":["t"]}],[{"start":{"row":65,"column":10},"end":{"row":65,"column":11},"action":"insert","lines":[" "],"id":690},{"start":{"row":65,"column":11},"end":{"row":65,"column":12},"action":"insert","lines":["="]}],[{"start":{"row":65,"column":12},"end":{"row":65,"column":13},"action":"insert","lines":[" "],"id":691}],[{"start":{"row":65,"column":57},"end":{"row":65,"column":58},"action":"insert","lines":[";"],"id":692}],[{"start":{"row":65,"column":56},"end":{"row":65,"column":57},"action":"insert","lines":["u"],"id":693},{"start":{"row":65,"column":57},"end":{"row":65,"column":58},"action":"insert","lines":["i"]},{"start":{"row":65,"column":58},"end":{"row":65,"column":59},"action":"insert","lines":["d"]}],[{"start":{"row":67,"column":4},"end":{"row":67,"column":6},"action":"remove","lines":["  "],"id":694},{"start":{"row":67,"column":2},"end":{"row":67,"column":4},"action":"remove","lines":["  "]},{"start":{"row":67,"column":0},"end":{"row":67,"column":2},"action":"remove","lines":["  "]},{"start":{"row":66,"column":4},"end":{"row":67,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":66,"column":4},"end":{"row":67,"column":0},"action":"insert","lines":["",""],"id":695},{"start":{"row":67,"column":0},"end":{"row":67,"column":4},"action":"insert","lines":["    "]},{"start":{"row":67,"column":4},"end":{"row":68,"column":0},"action":"insert","lines":["",""]},{"start":{"row":68,"column":0},"end":{"row":68,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":67,"column":4},"end":{"row":67,"column":5},"action":"insert","lines":["c"],"id":696},{"start":{"row":67,"column":5},"end":{"row":67,"column":6},"action":"insert","lines":["o"]},{"start":{"row":67,"column":6},"end":{"row":67,"column":7},"action":"insert","lines":["n"]},{"start":{"row":67,"column":7},"end":{"row":67,"column":8},"action":"insert","lines":["s"]},{"start":{"row":67,"column":8},"end":{"row":67,"column":9},"action":"insert","lines":["o"]},{"start":{"row":67,"column":9},"end":{"row":67,"column":10},"action":"insert","lines":["l"]},{"start":{"row":67,"column":10},"end":{"row":67,"column":11},"action":"insert","lines":["e"]},{"start":{"row":67,"column":11},"end":{"row":67,"column":12},"action":"insert","lines":["."]},{"start":{"row":67,"column":12},"end":{"row":67,"column":13},"action":"insert","lines":["l"]},{"start":{"row":67,"column":13},"end":{"row":67,"column":14},"action":"insert","lines":["o"]},{"start":{"row":67,"column":14},"end":{"row":67,"column":15},"action":"insert","lines":["g"]}],[{"start":{"row":67,"column":15},"end":{"row":67,"column":17},"action":"insert","lines":["()"],"id":697}],[{"start":{"row":67,"column":16},"end":{"row":67,"column":17},"action":"insert","lines":["r"],"id":698},{"start":{"row":67,"column":17},"end":{"row":67,"column":18},"action":"insert","lines":["e"]},{"start":{"row":67,"column":18},"end":{"row":67,"column":19},"action":"insert","lines":["s"]},{"start":{"row":67,"column":19},"end":{"row":67,"column":20},"action":"insert","lines":["u"]},{"start":{"row":67,"column":20},"end":{"row":67,"column":21},"action":"insert","lines":["l"]},{"start":{"row":67,"column":21},"end":{"row":67,"column":22},"action":"insert","lines":["t"]}],[{"start":{"row":67,"column":23},"end":{"row":67,"column":24},"action":"insert","lines":[";"],"id":699}],[{"start":{"row":65,"column":10},"end":{"row":65,"column":11},"action":"insert","lines":["_"],"id":700},{"start":{"row":65,"column":11},"end":{"row":65,"column":12},"action":"insert","lines":["z"]},{"start":{"row":65,"column":12},"end":{"row":65,"column":13},"action":"insert","lines":["o"]},{"start":{"row":65,"column":13},"end":{"row":65,"column":14},"action":"insert","lines":["h"]},{"start":{"row":65,"column":14},"end":{"row":65,"column":15},"action":"insert","lines":["o"]}],[{"start":{"row":67,"column":16},"end":{"row":67,"column":22},"action":"remove","lines":["result"],"id":701},{"start":{"row":67,"column":16},"end":{"row":67,"column":27},"action":"insert","lines":["result_zoho"]}],[{"start":{"row":65,"column":4},"end":{"row":65,"column":5},"action":"insert","lines":["v"],"id":702},{"start":{"row":65,"column":5},"end":{"row":65,"column":6},"action":"insert","lines":["a"]},{"start":{"row":65,"column":6},"end":{"row":65,"column":7},"action":"insert","lines":["r"]}],[{"start":{"row":65,"column":7},"end":{"row":65,"column":8},"action":"insert","lines":[" "],"id":705}],[{"start":{"row":72,"column":2},"end":{"row":72,"column":3},"action":"insert","lines":["n"],"id":706},{"start":{"row":72,"column":3},"end":{"row":72,"column":4},"action":"insert","lines":["o"]},{"start":{"row":72,"column":4},"end":{"row":72,"column":5},"action":"insert","lines":["d"]},{"start":{"row":72,"column":5},"end":{"row":72,"column":6},"action":"insert","lines":["e"]}],[{"start":{"row":72,"column":6},"end":{"row":72,"column":7},"action":"insert","lines":[" "],"id":707},{"start":{"row":72,"column":7},"end":{"row":72,"column":8},"action":"insert","lines":["i"]},{"start":{"row":72,"column":8},"end":{"row":72,"column":9},"action":"insert","lines":["n"]}],[{"start":{"row":72,"column":8},"end":{"row":72,"column":9},"action":"remove","lines":["n"],"id":708},{"start":{"row":72,"column":7},"end":{"row":72,"column":8},"action":"remove","lines":["i"]},{"start":{"row":72,"column":6},"end":{"row":72,"column":7},"action":"remove","lines":[" "]},{"start":{"row":72,"column":5},"end":{"row":72,"column":6},"action":"remove","lines":["e"]},{"start":{"row":72,"column":4},"end":{"row":72,"column":5},"action":"remove","lines":["d"]},{"start":{"row":72,"column":3},"end":{"row":72,"column":4},"action":"remove","lines":["o"]},{"start":{"row":72,"column":2},"end":{"row":72,"column":3},"action":"remove","lines":["n"]},{"start":{"row":72,"column":0},"end":{"row":72,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":55,"column":9},"end":{"row":55,"column":10},"action":"remove","lines":["n"],"id":709}],[{"start":{"row":55,"column":9},"end":{"row":55,"column":10},"action":"insert","lines":["N"],"id":710}],[{"start":{"row":59,"column":2},"end":{"row":60,"column":0},"action":"insert","lines":["",""],"id":711},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"insert","lines":["  "]},{"start":{"row":60,"column":2},"end":{"row":61,"column":0},"action":"insert","lines":["",""]},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"insert","lines":["  "]},{"start":{"row":61,"column":2},"end":{"row":62,"column":0},"action":"insert","lines":["",""]},{"start":{"row":62,"column":0},"end":{"row":62,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":61,"column":2},"end":{"row":67,"column":9},"action":"insert","lines":["lastName","","string","required","","Last name of the contact","firstName"],"id":712}],[{"start":{"row":54,"column":4},"end":{"row":54,"column":8},"action":"remove","lines":["name"],"id":713},{"start":{"row":54,"column":4},"end":{"row":54,"column":12},"action":"insert","lines":["lastName"]}],[{"start":{"row":55,"column":4},"end":{"row":55,"column":13},"action":"remove","lines":["firstName"],"id":714},{"start":{"row":55,"column":4},"end":{"row":55,"column":13},"action":"insert","lines":["firstName"]}],[{"start":{"row":61,"column":0},"end":{"row":67,"column":9},"action":"remove","lines":["  lastName","","string","required","","Last name of the contact","firstName"],"id":715},{"start":{"row":60,"column":2},"end":{"row":61,"column":0},"action":"remove","lines":["",""]},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"remove","lines":["  "]},{"start":{"row":59,"column":2},"end":{"row":60,"column":0},"action":"remove","lines":["",""]},{"start":{"row":59,"column":0},"end":{"row":59,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":58,"column":4},"end":{"row":59,"column":0},"action":"remove","lines":["",""],"id":716}],[{"start":{"row":67,"column":0},"end":{"row":67,"column":29},"action":"remove","lines":["    console.log(result_zoho);"],"id":717},{"start":{"row":66,"column":4},"end":{"row":67,"column":0},"action":"remove","lines":["",""]},{"start":{"row":66,"column":2},"end":{"row":66,"column":4},"action":"remove","lines":["  "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":2},"action":"remove","lines":["  "]},{"start":{"row":65,"column":70},"end":{"row":66,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":63,"column":4},"end":{"row":64,"column":0},"action":"insert","lines":["",""],"id":718},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"insert","lines":["    "]},{"start":{"row":64,"column":4},"end":{"row":65,"column":0},"action":"insert","lines":["",""]},{"start":{"row":65,"column":0},"end":{"row":65,"column":4},"action":"insert","lines":["    "]},{"start":{"row":65,"column":4},"end":{"row":65,"column":5},"action":"insert","lines":["c"]},{"start":{"row":65,"column":5},"end":{"row":65,"column":6},"action":"insert","lines":["o"]},{"start":{"row":65,"column":6},"end":{"row":65,"column":7},"action":"insert","lines":["n"]},{"start":{"row":65,"column":7},"end":{"row":65,"column":8},"action":"insert","lines":["s"]},{"start":{"row":65,"column":8},"end":{"row":65,"column":9},"action":"insert","lines":["o"]},{"start":{"row":65,"column":9},"end":{"row":65,"column":10},"action":"insert","lines":["l"]},{"start":{"row":65,"column":10},"end":{"row":65,"column":11},"action":"insert","lines":["e"]},{"start":{"row":65,"column":11},"end":{"row":65,"column":12},"action":"insert","lines":["."]}],[{"start":{"row":65,"column":12},"end":{"row":65,"column":13},"action":"insert","lines":["l"],"id":719},{"start":{"row":65,"column":13},"end":{"row":65,"column":14},"action":"insert","lines":["o"]},{"start":{"row":65,"column":14},"end":{"row":65,"column":15},"action":"insert","lines":["g"]}],[{"start":{"row":65,"column":15},"end":{"row":65,"column":17},"action":"insert","lines":["()"],"id":720}],[{"start":{"row":65,"column":16},"end":{"row":65,"column":17},"action":"insert","lines":["a"],"id":721},{"start":{"row":65,"column":17},"end":{"row":65,"column":18},"action":"insert","lines":["c"]},{"start":{"row":65,"column":18},"end":{"row":65,"column":19},"action":"insert","lines":["c"]},{"start":{"row":65,"column":19},"end":{"row":65,"column":20},"action":"insert","lines":["e"]},{"start":{"row":65,"column":20},"end":{"row":65,"column":21},"action":"insert","lines":["s"]},{"start":{"row":65,"column":21},"end":{"row":65,"column":22},"action":"insert","lines":["s"]}],[{"start":{"row":65,"column":16},"end":{"row":65,"column":22},"action":"remove","lines":["access"],"id":722},{"start":{"row":65,"column":16},"end":{"row":65,"column":27},"action":"insert","lines":["accessToken"]}],[{"start":{"row":65,"column":0},"end":{"row":65,"column":28},"action":"remove","lines":["    console.log(accessToken)"],"id":723},{"start":{"row":64,"column":4},"end":{"row":65,"column":0},"action":"remove","lines":["",""]},{"start":{"row":64,"column":2},"end":{"row":64,"column":4},"action":"remove","lines":["  "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":2},"action":"remove","lines":["  "]},{"start":{"row":63,"column":4},"end":{"row":64,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":65,"column":63},"end":{"row":65,"column":64},"action":"insert","lines":["."],"id":724}],[{"start":{"row":65,"column":64},"end":{"row":65,"column":75},"action":"insert","lines":["accessToken"],"id":725}],[{"start":{"row":65,"column":64},"end":{"row":65,"column":75},"action":"remove","lines":["accessToken"],"id":726},{"start":{"row":65,"column":64},"end":{"row":65,"column":76},"action":"insert","lines":["access_token"]}],[{"start":{"row":66,"column":4},"end":{"row":67,"column":0},"action":"insert","lines":["",""],"id":727},{"start":{"row":67,"column":0},"end":{"row":67,"column":4},"action":"insert","lines":["    "]},{"start":{"row":67,"column":4},"end":{"row":68,"column":0},"action":"insert","lines":["",""]},{"start":{"row":68,"column":0},"end":{"row":68,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":67,"column":4},"end":{"row":67,"column":5},"action":"insert","lines":["c"],"id":728},{"start":{"row":67,"column":5},"end":{"row":67,"column":6},"action":"insert","lines":["o"]},{"start":{"row":67,"column":6},"end":{"row":67,"column":7},"action":"insert","lines":["n"]},{"start":{"row":67,"column":7},"end":{"row":67,"column":8},"action":"insert","lines":["s"]},{"start":{"row":67,"column":8},"end":{"row":67,"column":9},"action":"insert","lines":["o"]},{"start":{"row":67,"column":9},"end":{"row":67,"column":10},"action":"insert","lines":["l"]},{"start":{"row":67,"column":10},"end":{"row":67,"column":11},"action":"insert","lines":["e"]},{"start":{"row":67,"column":11},"end":{"row":67,"column":12},"action":"insert","lines":["."]},{"start":{"row":67,"column":12},"end":{"row":67,"column":13},"action":"insert","lines":["l"]}],[{"start":{"row":67,"column":13},"end":{"row":67,"column":14},"action":"insert","lines":["o"],"id":729},{"start":{"row":67,"column":14},"end":{"row":67,"column":15},"action":"insert","lines":["g"]}],[{"start":{"row":67,"column":15},"end":{"row":67,"column":17},"action":"insert","lines":["()"],"id":730}],[{"start":{"row":67,"column":16},"end":{"row":67,"column":17},"action":"insert","lines":["r"],"id":731},{"start":{"row":67,"column":17},"end":{"row":67,"column":18},"action":"insert","lines":["e"]},{"start":{"row":67,"column":18},"end":{"row":67,"column":19},"action":"insert","lines":["s"]}],[{"start":{"row":67,"column":16},"end":{"row":67,"column":19},"action":"remove","lines":["res"],"id":732},{"start":{"row":67,"column":16},"end":{"row":67,"column":27},"action":"insert","lines":["result_zoho"]}],[{"start":{"row":67,"column":28},"end":{"row":67,"column":29},"action":"insert","lines":[";"],"id":733}],[{"start":{"row":67,"column":0},"end":{"row":67,"column":29},"action":"remove","lines":["    console.log(result_zoho);"],"id":734},{"start":{"row":66,"column":4},"end":{"row":67,"column":0},"action":"remove","lines":["",""]},{"start":{"row":66,"column":2},"end":{"row":66,"column":4},"action":"remove","lines":["  "]},{"start":{"row":66,"column":0},"end":{"row":66,"column":2},"action":"remove","lines":["  "]},{"start":{"row":65,"column":83},"end":{"row":66,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":68,"column":21},"end":{"row":69,"column":0},"action":"insert","lines":["",""],"id":735},{"start":{"row":69,"column":0},"end":{"row":69,"column":6},"action":"insert","lines":["      "]},{"start":{"row":69,"column":6},"end":{"row":69,"column":7},"action":"insert","lines":["c"]},{"start":{"row":69,"column":7},"end":{"row":69,"column":8},"action":"insert","lines":["o"]},{"start":{"row":69,"column":8},"end":{"row":69,"column":9},"action":"insert","lines":["n"]},{"start":{"row":69,"column":9},"end":{"row":69,"column":10},"action":"insert","lines":["s"]},{"start":{"row":69,"column":10},"end":{"row":69,"column":11},"action":"insert","lines":["o"]},{"start":{"row":69,"column":11},"end":{"row":69,"column":12},"action":"insert","lines":["l"]},{"start":{"row":69,"column":12},"end":{"row":69,"column":13},"action":"insert","lines":["e"]}],[{"start":{"row":69,"column":13},"end":{"row":69,"column":14},"action":"insert","lines":["."],"id":736},{"start":{"row":69,"column":14},"end":{"row":69,"column":15},"action":"insert","lines":["l"]},{"start":{"row":69,"column":15},"end":{"row":69,"column":16},"action":"insert","lines":["o"]},{"start":{"row":69,"column":16},"end":{"row":69,"column":17},"action":"insert","lines":["g"]}],[{"start":{"row":69,"column":17},"end":{"row":69,"column":19},"action":"insert","lines":["()"],"id":737}],[{"start":{"row":69,"column":18},"end":{"row":69,"column":19},"action":"insert","lines":["e"],"id":738},{"start":{"row":69,"column":19},"end":{"row":69,"column":20},"action":"insert","lines":["r"]},{"start":{"row":69,"column":20},"end":{"row":69,"column":21},"action":"insert","lines":["r"]},{"start":{"row":69,"column":21},"end":{"row":69,"column":22},"action":"insert","lines":["o"]},{"start":{"row":69,"column":22},"end":{"row":69,"column":23},"action":"insert","lines":["r"]}],[{"start":{"row":69,"column":24},"end":{"row":69,"column":25},"action":"insert","lines":[";"],"id":739}],[{"start":{"row":58,"column":4},"end":{"row":59,"column":0},"action":"insert","lines":["",""],"id":740},{"start":{"row":59,"column":0},"end":{"row":59,"column":2},"action":"insert","lines":["  "]},{"start":{"row":59,"column":2},"end":{"row":60,"column":0},"action":"insert","lines":["",""]},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":58,"column":2},"end":{"row":60,"column":2},"action":"insert","lines":["","    ","  "],"id":741}],[{"start":{"row":59,"column":4},"end":{"row":60,"column":0},"action":"insert","lines":["",""],"id":742},{"start":{"row":60,"column":0},"end":{"row":60,"column":4},"action":"insert","lines":["    "]},{"start":{"row":60,"column":4},"end":{"row":61,"column":0},"action":"insert","lines":["",""]},{"start":{"row":61,"column":0},"end":{"row":61,"column":4},"action":"insert","lines":["    "]},{"start":{"row":61,"column":4},"end":{"row":62,"column":0},"action":"insert","lines":["",""]},{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":66,"column":0},"end":{"row":66,"column":2},"action":"remove","lines":["  "],"id":743},{"start":{"row":65,"column":2},"end":{"row":66,"column":0},"action":"remove","lines":["",""]},{"start":{"row":65,"column":0},"end":{"row":65,"column":2},"action":"remove","lines":["  "]},{"start":{"row":64,"column":2},"end":{"row":65,"column":0},"action":"remove","lines":["",""]},{"start":{"row":64,"column":0},"end":{"row":64,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":58,"column":2},"end":{"row":67,"column":33},"action":"insert","lines":["                name : name, ","                firstname : firstname,","                phone : phone,","                independant : independant,","                company : company,","                organization : organization,","                supervisor: false,","                validated: false,","                zohocode : '',","                idToken : idToken"],"id":744}],[{"start":{"row":58,"column":0},"end":{"row":60,"column":30},"action":"remove","lines":["                  name : name, ","                firstname : firstname,","                phone : phone,"],"id":745}],[{"start":{"row":59,"column":0},"end":{"row":59,"column":2},"action":"remove","lines":["  "],"id":746},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"remove","lines":["  "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"remove","lines":["  "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":2},"action":"remove","lines":["  "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":2},"action":"remove","lines":["  "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":2},"action":"remove","lines":["  "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":59,"column":0},"end":{"row":59,"column":2},"action":"remove","lines":["  "],"id":747},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"remove","lines":["  "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"remove","lines":["  "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":2},"action":"remove","lines":["  "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":2},"action":"remove","lines":["  "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":2},"action":"remove","lines":["  "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":59,"column":0},"end":{"row":59,"column":2},"action":"remove","lines":["  "],"id":748},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"remove","lines":["  "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"remove","lines":["  "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":2},"action":"remove","lines":["  "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":2},"action":"remove","lines":["  "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":2},"action":"remove","lines":["  "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":59,"column":0},"end":{"row":59,"column":2},"action":"remove","lines":["  "],"id":749},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"remove","lines":["  "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"remove","lines":["  "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":2},"action":"remove","lines":["  "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":2},"action":"remove","lines":["  "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":2},"action":"remove","lines":["  "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":59,"column":0},"end":{"row":59,"column":2},"action":"remove","lines":["  "],"id":750},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"remove","lines":["  "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"remove","lines":["  "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":2},"action":"remove","lines":["  "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":2},"action":"remove","lines":["  "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":2},"action":"remove","lines":["  "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":59,"column":0},"end":{"row":59,"column":2},"action":"remove","lines":["  "],"id":751},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"remove","lines":["  "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"remove","lines":["  "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":2},"action":"remove","lines":["  "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":2},"action":"remove","lines":["  "]},{"start":{"row":64,"column":0},"end":{"row":64,"column":2},"action":"remove","lines":["  "]},{"start":{"row":65,"column":0},"end":{"row":65,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":59,"column":18},"end":{"row":59,"column":27},"action":"insert","lines":["req.body."],"id":752}],[{"start":{"row":60,"column":14},"end":{"row":60,"column":23},"action":"insert","lines":["req.body."],"id":753}],[{"start":{"row":61,"column":19},"end":{"row":61,"column":28},"action":"insert","lines":["req.body."],"id":754}],[{"start":{"row":62,"column":20},"end":{"row":62,"column":21},"action":"remove","lines":["e"],"id":755},{"start":{"row":62,"column":19},"end":{"row":62,"column":20},"action":"remove","lines":["s"]},{"start":{"row":62,"column":18},"end":{"row":62,"column":19},"action":"remove","lines":["l"]},{"start":{"row":62,"column":17},"end":{"row":62,"column":18},"action":"remove","lines":["a"]},{"start":{"row":62,"column":16},"end":{"row":62,"column":17},"action":"remove","lines":["f"]}],[{"start":{"row":62,"column":16},"end":{"row":62,"column":25},"action":"insert","lines":["req.body."],"id":756}],[{"start":{"row":62,"column":25},"end":{"row":62,"column":35},"action":"insert","lines":["supervisor"],"id":757}],[{"start":{"row":64,"column":0},"end":{"row":69,"column":4},"action":"remove","lines":["    zohocode : '',","    idToken : idToken","    ","    ","    ","    "],"id":758},{"start":{"row":63,"column":21},"end":{"row":64,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":62,"column":16},"end":{"row":62,"column":35},"action":"remove","lines":["req.body.supervisor"],"id":759},{"start":{"row":62,"column":16},"end":{"row":62,"column":17},"action":"insert","lines":["f"]},{"start":{"row":62,"column":17},"end":{"row":62,"column":18},"action":"insert","lines":["a"]},{"start":{"row":62,"column":18},"end":{"row":62,"column":19},"action":"insert","lines":["l"]},{"start":{"row":62,"column":19},"end":{"row":62,"column":20},"action":"insert","lines":["s"]},{"start":{"row":62,"column":20},"end":{"row":62,"column":21},"action":"insert","lines":["e"]}],[{"start":{"row":57,"column":35},"end":{"row":58,"column":0},"action":"remove","lines":["",""],"id":760}],[{"start":{"row":58,"column":37},"end":{"row":58,"column":38},"action":"remove","lines":["t"],"id":761},{"start":{"row":58,"column":36},"end":{"row":58,"column":37},"action":"remove","lines":["n"]},{"start":{"row":58,"column":35},"end":{"row":58,"column":36},"action":"remove","lines":["a"]},{"start":{"row":58,"column":34},"end":{"row":58,"column":35},"action":"remove","lines":["d"]},{"start":{"row":58,"column":33},"end":{"row":58,"column":34},"action":"remove","lines":["n"]},{"start":{"row":58,"column":32},"end":{"row":58,"column":33},"action":"remove","lines":["e"]},{"start":{"row":58,"column":31},"end":{"row":58,"column":32},"action":"remove","lines":["p"]},{"start":{"row":58,"column":30},"end":{"row":58,"column":31},"action":"remove","lines":["e"]},{"start":{"row":58,"column":29},"end":{"row":58,"column":30},"action":"remove","lines":["d"]},{"start":{"row":58,"column":28},"end":{"row":58,"column":29},"action":"remove","lines":["n"]},{"start":{"row":58,"column":27},"end":{"row":58,"column":28},"action":"remove","lines":["i"]},{"start":{"row":58,"column":26},"end":{"row":58,"column":27},"action":"remove","lines":["."]},{"start":{"row":58,"column":25},"end":{"row":58,"column":26},"action":"remove","lines":["y"]},{"start":{"row":58,"column":24},"end":{"row":58,"column":25},"action":"remove","lines":["d"]},{"start":{"row":58,"column":23},"end":{"row":58,"column":24},"action":"remove","lines":["o"]},{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"remove","lines":["b"]},{"start":{"row":58,"column":21},"end":{"row":58,"column":22},"action":"remove","lines":["."]},{"start":{"row":58,"column":20},"end":{"row":58,"column":21},"action":"remove","lines":["q"]}],[{"start":{"row":58,"column":19},"end":{"row":58,"column":20},"action":"remove","lines":["e"],"id":762},{"start":{"row":58,"column":18},"end":{"row":58,"column":19},"action":"remove","lines":["r"]}],[{"start":{"row":58,"column":18},"end":{"row":58,"column":19},"action":"insert","lines":["f"],"id":763},{"start":{"row":58,"column":19},"end":{"row":58,"column":20},"action":"insert","lines":["a"]},{"start":{"row":58,"column":20},"end":{"row":58,"column":21},"action":"insert","lines":["l"]},{"start":{"row":58,"column":21},"end":{"row":58,"column":22},"action":"insert","lines":["s"]}],[{"start":{"row":58,"column":22},"end":{"row":58,"column":23},"action":"insert","lines":["e"],"id":764}],[{"start":{"row":58,"column":18},"end":{"row":58,"column":23},"action":"remove","lines":["false"],"id":765},{"start":{"row":58,"column":18},"end":{"row":58,"column":23},"action":"insert","lines":["false"]}],[{"start":{"row":58,"column":18},"end":{"row":58,"column":23},"action":"remove","lines":["false"],"id":766},{"start":{"row":58,"column":18},"end":{"row":58,"column":27},"action":"insert","lines":["req.body."]}],[{"start":{"row":58,"column":27},"end":{"row":58,"column":28},"action":"insert","lines":["i"],"id":767},{"start":{"row":58,"column":28},"end":{"row":58,"column":29},"action":"insert","lines":["n"]},{"start":{"row":58,"column":29},"end":{"row":58,"column":30},"action":"insert","lines":["d"]},{"start":{"row":58,"column":30},"end":{"row":58,"column":31},"action":"insert","lines":["e"]},{"start":{"row":58,"column":31},"end":{"row":58,"column":32},"action":"insert","lines":["p"]},{"start":{"row":58,"column":32},"end":{"row":58,"column":33},"action":"insert","lines":["e"]},{"start":{"row":58,"column":33},"end":{"row":58,"column":34},"action":"insert","lines":["n"]},{"start":{"row":58,"column":34},"end":{"row":58,"column":35},"action":"insert","lines":["d"]},{"start":{"row":58,"column":35},"end":{"row":58,"column":36},"action":"insert","lines":["a"]},{"start":{"row":58,"column":36},"end":{"row":58,"column":37},"action":"insert","lines":["n"]}],[{"start":{"row":58,"column":37},"end":{"row":58,"column":38},"action":"insert","lines":["t"],"id":768}],[{"start":{"row":62,"column":20},"end":{"row":62,"column":21},"action":"remove","lines":[","],"id":769}],[{"start":{"row":63,"column":2},"end":{"row":63,"column":4},"action":"insert","lines":["  "],"id":770}],[{"start":{"row":77,"column":0},"end":{"row":77,"column":52},"action":"remove","lines":["  res.setHeader('Content-Type', 'application/json');"],"id":771},{"start":{"row":76,"column":0},"end":{"row":77,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":77,"column":10},"end":{"row":77,"column":41},"action":"remove","lines":["JSON.stringify({ res: 'toto' })"],"id":772},{"start":{"row":77,"column":10},"end":{"row":77,"column":11},"action":"insert","lines":["'"]},{"start":{"row":77,"column":11},"end":{"row":77,"column":12},"action":"insert","lines":["d"]},{"start":{"row":77,"column":12},"end":{"row":77,"column":13},"action":"insert","lines":["o"]},{"start":{"row":77,"column":13},"end":{"row":77,"column":14},"action":"insert","lines":["c"]}],[{"start":{"row":77,"column":14},"end":{"row":77,"column":15},"action":"insert","lines":[" "],"id":773},{"start":{"row":77,"column":15},"end":{"row":77,"column":16},"action":"insert","lines":["i"]},{"start":{"row":77,"column":16},"end":{"row":77,"column":17},"action":"insert","lines":["n"]},{"start":{"row":77,"column":17},"end":{"row":77,"column":18},"action":"insert","lines":["s"]},{"start":{"row":77,"column":18},"end":{"row":77,"column":19},"action":"insert","lines":["e"]},{"start":{"row":77,"column":19},"end":{"row":77,"column":20},"action":"insert","lines":["r"]},{"start":{"row":77,"column":20},"end":{"row":77,"column":21},"action":"insert","lines":["t"]},{"start":{"row":77,"column":21},"end":{"row":77,"column":22},"action":"insert","lines":["e"]},{"start":{"row":77,"column":22},"end":{"row":77,"column":23},"action":"insert","lines":["d"]}],[{"start":{"row":77,"column":23},"end":{"row":77,"column":24},"action":"insert","lines":["'"],"id":774}],[{"start":{"row":64,"column":0},"end":{"row":64,"column":1},"action":"insert","lines":["c"],"id":775},{"start":{"row":64,"column":1},"end":{"row":64,"column":2},"action":"insert","lines":["o"]},{"start":{"row":64,"column":2},"end":{"row":64,"column":3},"action":"insert","lines":["n"]},{"start":{"row":64,"column":3},"end":{"row":64,"column":4},"action":"insert","lines":["s"]},{"start":{"row":64,"column":4},"end":{"row":64,"column":5},"action":"insert","lines":["o"]},{"start":{"row":64,"column":5},"end":{"row":64,"column":6},"action":"insert","lines":["l"]},{"start":{"row":64,"column":6},"end":{"row":64,"column":7},"action":"insert","lines":["e"]},{"start":{"row":64,"column":7},"end":{"row":64,"column":8},"action":"insert","lines":["."]},{"start":{"row":64,"column":8},"end":{"row":64,"column":9},"action":"insert","lines":["l"]},{"start":{"row":64,"column":9},"end":{"row":64,"column":10},"action":"insert","lines":["o"]},{"start":{"row":64,"column":10},"end":{"row":64,"column":11},"action":"insert","lines":["g"]}],[{"start":{"row":64,"column":11},"end":{"row":64,"column":13},"action":"insert","lines":["()"],"id":776}],[{"start":{"row":64,"column":12},"end":{"row":64,"column":13},"action":"insert","lines":["t"],"id":777},{"start":{"row":64,"column":13},"end":{"row":64,"column":14},"action":"insert","lines":["o"]},{"start":{"row":64,"column":14},"end":{"row":64,"column":15},"action":"insert","lines":["u"]},{"start":{"row":64,"column":15},"end":{"row":64,"column":16},"action":"insert","lines":["c"]},{"start":{"row":64,"column":16},"end":{"row":64,"column":17},"action":"insert","lines":["h"]}],[{"start":{"row":64,"column":17},"end":{"row":64,"column":18},"action":"insert","lines":["'"],"id":778}],[{"start":{"row":64,"column":12},"end":{"row":64,"column":13},"action":"insert","lines":["'"],"id":779}],[{"start":{"row":64,"column":20},"end":{"row":64,"column":21},"action":"insert","lines":[";"],"id":780}],[{"start":{"row":64,"column":0},"end":{"row":64,"column":21},"action":"remove","lines":["console.log('touch');"],"id":781}],[{"start":{"row":50,"column":2},"end":{"row":51,"column":0},"action":"insert","lines":["",""],"id":782},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"insert","lines":["  "]},{"start":{"row":51,"column":2},"end":{"row":52,"column":0},"action":"insert","lines":["",""]},{"start":{"row":52,"column":0},"end":{"row":52,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":51,"column":2},"end":{"row":51,"column":3},"action":"insert","lines":["c"],"id":783},{"start":{"row":51,"column":3},"end":{"row":51,"column":4},"action":"insert","lines":["o"]},{"start":{"row":51,"column":4},"end":{"row":51,"column":5},"action":"insert","lines":["n"]},{"start":{"row":51,"column":5},"end":{"row":51,"column":6},"action":"insert","lines":["s"]},{"start":{"row":51,"column":6},"end":{"row":51,"column":7},"action":"insert","lines":["o"]},{"start":{"row":51,"column":7},"end":{"row":51,"column":8},"action":"insert","lines":["l"]},{"start":{"row":51,"column":8},"end":{"row":51,"column":9},"action":"insert","lines":["e"]},{"start":{"row":51,"column":9},"end":{"row":51,"column":10},"action":"insert","lines":["."]},{"start":{"row":51,"column":10},"end":{"row":51,"column":11},"action":"insert","lines":["l"]}],[{"start":{"row":51,"column":11},"end":{"row":51,"column":12},"action":"insert","lines":["o"],"id":784},{"start":{"row":51,"column":12},"end":{"row":51,"column":13},"action":"insert","lines":["g"]}],[{"start":{"row":51,"column":13},"end":{"row":51,"column":15},"action":"insert","lines":["()"],"id":785}],[{"start":{"row":51,"column":15},"end":{"row":52,"column":2},"action":"remove","lines":["","  "],"id":786},{"start":{"row":51,"column":14},"end":{"row":51,"column":15},"action":"remove","lines":[")"]},{"start":{"row":51,"column":13},"end":{"row":51,"column":14},"action":"remove","lines":["("]},{"start":{"row":51,"column":12},"end":{"row":51,"column":13},"action":"remove","lines":["g"]},{"start":{"row":51,"column":11},"end":{"row":51,"column":12},"action":"remove","lines":["o"]},{"start":{"row":51,"column":10},"end":{"row":51,"column":11},"action":"remove","lines":["l"]},{"start":{"row":51,"column":9},"end":{"row":51,"column":10},"action":"remove","lines":["."]},{"start":{"row":51,"column":8},"end":{"row":51,"column":9},"action":"remove","lines":["e"]},{"start":{"row":51,"column":7},"end":{"row":51,"column":8},"action":"remove","lines":["l"]},{"start":{"row":51,"column":6},"end":{"row":51,"column":7},"action":"remove","lines":["o"]},{"start":{"row":51,"column":5},"end":{"row":51,"column":6},"action":"remove","lines":["s"]},{"start":{"row":51,"column":4},"end":{"row":51,"column":5},"action":"remove","lines":["n"]}],[{"start":{"row":51,"column":3},"end":{"row":51,"column":4},"action":"remove","lines":["o"],"id":787},{"start":{"row":51,"column":2},"end":{"row":51,"column":3},"action":"remove","lines":["c"]},{"start":{"row":51,"column":0},"end":{"row":51,"column":2},"action":"remove","lines":["  "]},{"start":{"row":50,"column":2},"end":{"row":51,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":64,"column":0},"end":{"row":64,"column":1},"action":"insert","lines":["g"],"id":788},{"start":{"row":64,"column":1},"end":{"row":64,"column":2},"action":"insert","lines":["e"]},{"start":{"row":64,"column":2},"end":{"row":64,"column":3},"action":"insert","lines":["t"]}],[{"start":{"row":64,"column":2},"end":{"row":64,"column":3},"action":"remove","lines":["t"],"id":789},{"start":{"row":64,"column":1},"end":{"row":64,"column":2},"action":"remove","lines":["e"]},{"start":{"row":64,"column":0},"end":{"row":64,"column":1},"action":"remove","lines":["g"]}]]},"ace":{"folds":[],"scrolltop":672,"scrollleft":0,"selection":{"start":{"row":64,"column":0},"end":{"row":64,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":47,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1554811780043}